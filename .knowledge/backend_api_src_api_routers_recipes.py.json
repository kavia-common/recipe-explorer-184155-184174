{"is_source_file": true, "format": "Python", "description": "This file defines API route handlers for managing recipes, including listing, creating, retrieving, updating, deleting, and rating recipes. It utilizes FastAPI framework features such as dependency injection, request querying, and path parameters. The routes interface with a RecipeService for business logic.", "external_files": ["src/core/pagination", "src/core/security", "src/models/schemas", "src/services/recipe_service"], "external_methods": ["get_current_user", "recipe_service"], "published": ["router"], "classes": [], "methods": [{"name": "Page[RecipePublic] list_recipes( page: int = Query(1, ge=1), page_size: int = Query(20, ge=1, le=100), tags: list[str] | None = Query(None), cuisine: str | None = Query(None), time_max: int | None = Query(None, ge=1), service: Annotated[RecipeService, Depends(recipe_service)] = None, )", "description": "Handles GET requests to list recipes with optional filters and pagination.", "scope": "", "scopeKind": ""}, {"name": "RecipePublic create_recipe( payload: RecipeCreate, current_user=Depends(get_current_user), service: Annotated[RecipeService, Depends(recipe_service)] = None, )", "description": "Handles POST requests to create a new recipe associated with the current user.", "scope": "", "scopeKind": ""}, {"name": "RecipePublic get_recipe( recipe_id: str = Path(...), service: Annotated[RecipeService, Depends(recipe_service)] = None, )", "description": "Handles GET requests to fetch a specific recipe by ID.", "scope": "", "scopeKind": ""}, {"name": "RecipePublic update_recipe( payload: RecipeUpdate, recipe_id: str = Path(...), current_user=Depends(get_current_user), service: Annotated[RecipeService, Depends(recipe_service)] = None, )", "description": "Handles PUT requests to update a recipe. Only the owner can perform this action.", "scope": "", "scopeKind": ""}, {"name": "Response delete_recipe( recipe_id: str = Path(...), current_user=Depends(get_current_user), service: Annotated[RecipeService, Depends(recipe_service)] = None, )", "description": "Handles DELETE requests to remove a recipe. Only the owner can perform this action.", "scope": "", "scopeKind": ""}, {"name": "RecipePublic rate_recipe( payload: RatingRequest, recipe_id: str = Path(...), current_user=Depends(get_current_user), service: Annotated[RecipeService, Depends(recipe_service)] = None, )", "description": "Handles POST requests to rate a recipe (1 to 5), allowing re-rates to update the existing rating.", "scope": "", "scopeKind": ""}], "calls": ["service.list_recipes", "service.create_recipe", "service.get_recipe", "service.update_recipe", "service.delete_recipe", "service.rate_recipe"], "search-terms": ["recipes API", "RecipeService", "recipe endpoints", "FastAPI recipes router", "recipes CRUD", "recipe ratings"], "state": 2, "file_id": 7, "knowledge_revision": 58, "git_revision": "9492d083ead1db96d2760dca5d6d2af614317fd7", "revision_history": [{"16": ""}, {"58": "9492d083ead1db96d2760dca5d6d2af614317fd7"}], "ctags": [{"_type": "tag", "name": "create_recipe", "path": "/home/kavia/workspace/code-generation/recipe-explorer-184155-184174/backend_api/src/api/routers/recipes.py", "pattern": "/^def create_recipe($/", "language": "Python", "typeref": "typename:RecipePublic", "kind": "function", "signature": "( payload: RecipeCreate, current_user=Depends(get_current_user), service: Annotated[RecipeService, Depends(recipe_service)] = None, )"}, {"_type": "tag", "name": "delete_recipe", "path": "/home/kavia/workspace/code-generation/recipe-explorer-184155-184174/backend_api/src/api/routers/recipes.py", "pattern": "/^def delete_recipe($/", "language": "Python", "typeref": "typename:Response", "kind": "function", "signature": "( recipe_id: str = Path(...), current_user=Depends(get_current_user), service: Annotated[RecipeService, Depends(recipe_service)] = None, )"}, {"_type": "tag", "name": "get_recipe", "path": "/home/kavia/workspace/code-generation/recipe-explorer-184155-184174/backend_api/src/api/routers/recipes.py", "pattern": "/^def get_recipe($/", "language": "Python", "typeref": "typename:RecipePublic", "kind": "function", "signature": "( recipe_id: str = Path(...), service: Annotated[RecipeService, Depends(recipe_service)] = None, )"}, {"_type": "tag", "name": "list_recipes", "path": "/home/kavia/workspace/code-generation/recipe-explorer-184155-184174/backend_api/src/api/routers/recipes.py", "pattern": "/^def list_recipes($/", "language": "Python", "typeref": "typename:Page[RecipePublic]", "kind": "function", "signature": "( page: int = Query(1, ge=1), page_size: int = Query(20, ge=1, le=100), tags: list[str] | None = Query(None), cuisine: str | None = Query(None), time_max: int | None = Query(None, ge=1), service: Annotated[RecipeService, Depends(recipe_service)] = None, )"}, {"_type": "tag", "name": "rate_recipe", "path": "/home/kavia/workspace/code-generation/recipe-explorer-184155-184174/backend_api/src/api/routers/recipes.py", "pattern": "/^def rate_recipe($/", "language": "Python", "typeref": "typename:RecipePublic", "kind": "function", "signature": "( payload: RatingRequest, recipe_id: str = Path(...), current_user=Depends(get_current_user), service: Annotated[RecipeService, Depends(recipe_service)] = None, )"}, {"_type": "tag", "name": "router", "path": "/home/kavia/workspace/code-generation/recipe-explorer-184155-184174/backend_api/src/api/routers/recipes.py", "pattern": "/^router = APIRouter(prefix=\"\\/recipes\", tags=[\"recipes\"])$/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "update_recipe", "path": "/home/kavia/workspace/code-generation/recipe-explorer-184155-184174/backend_api/src/api/routers/recipes.py", "pattern": "/^def update_recipe($/", "language": "Python", "typeref": "typename:RecipePublic", "kind": "function", "signature": "( payload: RecipeUpdate, recipe_id: str = Path(...), current_user=Depends(get_current_user), service: Annotated[RecipeService, Depends(recipe_service)] = None, )"}], "hash": "0fe21557e460e36c01113c5f0d1b1569", "format-version": 4, "code-base-name": "backend_api", "filename": "backend_api/src/api/routers/recipes.py", "fields": [{"name": "router = APIRouter(prefix=\"\\/recipes\", tags=[\"recipes\"])", "scope": "", "scopeKind": "", "description": "unavailable"}]}